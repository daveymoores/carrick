name: Carrick

on:
  push:
    branches: [main]

jobs:
  test-published-action:
    name: Test Published Action
    runs-on: ubuntu-latest
    permissions:
      contents: read
    steps:
      - uses: actions/checkout@v4

      - name: Run Carrick Analysis on entire repo
        uses: ./
        with:
          carrick-org: ${{ secrets.CARRICK_ORG }}
          carrick-api-key: ${{ secrets.CARRICK_API_KEY }}
          github-token: ${{ secrets.GITHUB_TOKEN }}
